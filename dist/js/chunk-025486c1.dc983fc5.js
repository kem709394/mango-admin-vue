(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-025486c1"],{"6c2d":function(t,e,n){},"6f92":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Card",{attrs:{shadow:""}},[n("div",[n("div",{staticClass:"message-page-con message-category-con"},[n("Menu",{attrs:{width:"auto","active-name":"unread"},on:{"on-select":t.handleSelect}},[n("MenuItem",{attrs:{name:"unread"}},[n("span",{staticClass:"category-title"},[t._v("未读消息")]),n("Badge",{staticStyle:{"margin-left":"10px"},attrs:{count:t.unreadMsgCount}})],1),n("MenuItem",{attrs:{name:"read"}},[n("span",{staticClass:"category-title"},[t._v("已读消息")]),n("Badge",{staticStyle:{"margin-left":"10px"},attrs:{"class-name":"gray-dadge",count:t.readMsgCount}})],1),n("MenuItem",{attrs:{name:"remove"}},[n("span",{staticClass:"category-title"},[t._v("回收站")]),n("Badge",{staticStyle:{"margin-left":"10px"},attrs:{"class-name":"gray-dadge",count:t.removeMsgCount}})],1)],1)],1),n("div",{staticClass:"message-page-con message-list-con"},[t.listLoading?n("Spin",{attrs:{fix:"",size:"large"}}):t._e(),n("Menu",{class:t.titleClass,attrs:{width:"auto","active-name":""},on:{"on-select":t.handleView}},t._l(t.list,function(e){return n("MenuItem",{key:e.id,attrs:{name:e.id}},[n("div",[n("p",{staticClass:"msg-title"},[t._v(t._s(e.title))]),n("Badge",{attrs:{status:"default",text:e.createTime}}),n("Button",{directives:[{name:"show",rawName:"v-show",value:"unread"!==t.currentType,expression:"currentType !== 'unread'"}],staticStyle:{float:"right","margin-right":"20px"},style:{display:e.loading?"inline-block !important":""},attrs:{loading:e.loading,size:"small",icon:"read"===t.currentType?"md-trash":"md-redo",title:"read"===t.currentType?"删除":"还原",type:"text"},nativeOn:{click:function(n){return n.stopPropagation(),t.handleOperate(e)}}})],1)])}),1)],1),n("div",{staticClass:"message-page-con message-view-con"},[t.contentLoading?n("Spin",{attrs:{fix:"",size:"large"}}):t._e(),n("div",{staticClass:"message-view-header"},[n("h2",{staticClass:"message-view-title"},[t._v(t._s(t.currentItem.title))]),n("time",{staticClass:"message-view-time"},[t._v(t._s(t.currentItem.createTime))])]),n("div",{domProps:{innerHTML:t._s(t.content)}})],1)])])},s=[],r=(n("8e6e"),n("ac6a"),n("456d"),n("7514"),n("bd86")),i=(n("90de"),n("2f62"));function o(t,e){var n=Object.keys(t);return Object.getOwnPropertySymbols&&n.push.apply(n,Object.getOwnPropertySymbols(t)),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach(function(e){Object(r["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var u={read:"readList",unread:"unreadList",remove:"removeList"},d={name:"msg_center",data:function(){return{listLoading:!0,contentLoading:!1,currentType:"unread",currentItem:{},content:""}},computed:c({},Object(i["e"])({readList:function(t){return t.msg.readMsgList},unreadList:function(t){return t.msg.unreadMsgList},removeList:function(t){return t.msg.removeMsgList},list:function(){return this[u[this.currentType]]},titleClass:function(){return{"not-unread-list":"unread"!==this.currentType}}}),{},Object(i["c"])(["readMsgCount","unreadMsgCount","removeMsgCount"])),methods:c({},Object(i["d"])([]),{},Object(i["b"])(["getMsgContent","getMsgList","hasReadMsg","removeReadMsg","restoreRemoveMsg"]),{stopLoading:function(t){this[t]=!1},handleSelect:function(t){this.currentType=t},handleView:function(t){var e=this;this.contentLoading=!0,this.getMsgContent(t).then(function(n){e.content=n;var a=e.list.find(function(e){return e.id===t});a&&(e.currentItem=a),"unread"===e.currentType&&e.hasReadMsg(t),e.stopLoading("contentLoading")}).catch(function(){e.stopLoading("contentLoading")})},handleOperate:function(t){t.loading=!0;var e=t.id;"read"===this.currentType?this.removeReadMsg(e):this.restoreRemoveMsg(e)}}),mounted:function(){var t=this;this.listLoading=!0,this.getMsgList().then(function(){return t.stopLoading("listLoading")}).catch(function(){return t.stopLoading("listLoading")})}},g=d,l=(n("f8e1"),n("2877")),m=Object(l["a"])(g,a,s,!1,null,null,null),p=m.exports;e["default"]=p},f8e1:function(t,e,n){"use strict";var a=n("6c2d"),s=n.n(a);s.a}}]);